<UserControl x:Class="TreasureHuntDesktopApplication.FullClient.Views.ViewHuntView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             xmlns:validation="clr-namespace:TreasureHuntDesktopApplication.FullClient.Project_Utilities"
             d:DesignHeight="500" d:DesignWidth="600">
    <Grid Background="White">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="13*"/>
            <ColumnDefinition Width="37*"/>
        </Grid.ColumnDefinitions>
        
        <Label FontFamily="Arial" FontSize="20" Content="New Question:" HorizontalAlignment="Left" Margin="0,75,0,0" VerticalAlignment="Top" Height="44" Width="143"/>
        <!--http://www.eidias.com/Blog/2012/7/2/simple-validation-in-wpf-mvvm-using-idataerrorinfo-->
        <TextBox Name="NewQuestionTextBox" Text="{Binding NewQuestion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}" HorizontalAlignment="Left" Height="49" Margin="143,70,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="342" Grid.ColumnSpan="2">
        </TextBox>
        <Button Content="Add Question" HorizontalAlignment="Left" Margin="334,76,0,0" VerticalAlignment="Top" Width="100" Command="{Binding SaveQuestionCommand}" Grid.Column="1" Height="34"/>
        <Button Command="{Binding ViewQrCodeCommand}" Content="View QR Code" HorizontalAlignment="Left" Margin="116,362,0,0" VerticalAlignment="Top" Width="181" Grid.ColumnSpan="2" Height="35"/>
        <Button Command="{Binding PrintQRCodesCommand}" Content="Print QR Codes" Grid.Column="1" HorizontalAlignment="Left" Margin="158,362,0,0" VerticalAlignment="Top" Width="171" Height="35"/>
        <ListView ItemsSource="{Binding Questions}" SelectedItem="{Binding CurrentQuestion}"  SelectionMode="Single" HorizontalAlignment="Left" Height="190" Margin="116,167,0,0" VerticalAlignment="Top" Width="369" Grid.ColumnSpan="2">
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="400" Header="Question" DisplayMemberBinding="{Binding Path=Question1}" />
                </GridView>
            </ListView.View>
            
        </ListView>

        <Label  FontSize="18" FontStyle="Italic" Foreground="Red" Content="{Binding ElementName=NewQuestionTextBox, Path=(Validation.Errors).CurrentItem.ErrorContent}" HorizontalAlignment="Left" Margin="116,124,0,0" VerticalAlignment="Top" Height="38" Width="369" RenderTransformOrigin="0.5,0.5" Grid.ColumnSpan="2"/>
        <Button Command="{Binding BackCommand}" Content="Back" Grid.Column="1" HorizontalAlignment="Left" Margin="98,402,0,0" VerticalAlignment="Top" Width="100" Height="43"/>
        <Label FontFamily="Arial" FontStyle="Italic" FontSize="20" Content="Current Treasure Hunt:" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Grid.ColumnSpan="2" Width="218"/>
        <Label FontFamily="Arial" FontSize="20" Content="{Binding CurrentTreasureHunt.HuntName}" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="72,10,0,0" Grid.Column="1"/>

        
        <!--<TextBox Text="{Binding Path=CurrentQuestion.Question1, Mode=TwoWay}" HorizontalAlignment="Left" Height="23" Margin="10,163,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="120"/>-->
        <!--<Button Content="Update Question" Command="{Binding UpdateQuestionCommand}" HorizontalAlignment="Left" Margin="10,207,0,0" VerticalAlignment="Top" Width="114"/>-->

    </Grid>
    <UserControl.Resources>
        <!--http://www.eidias.com/Blog/2012/7/2/simple-validation-in-wpf-mvvm-using-idataerrorinfo-->
        <Style TargetType="TextBox">
            <Style.Triggers>
                <Trigger Property="Validation.HasError" Value="true">
                    <Setter Property="ToolTip" Value="{Binding RelativeSource={x:Static RelativeSource.Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
</UserControl>
